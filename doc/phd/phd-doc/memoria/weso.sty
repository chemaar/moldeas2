% SITE DEPENDENT:
%\def\logopath{kweblogo.eps} 
% please make sure the logo is in the same directory 
%  as the tex-file and has the same name
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%      		Based on Template
%       Standard Cover Pages, Header and Footers
%               for KWEB Reports
%
%     Version: February 6, 2004, Marc Ehrig
%     adopted: March 12, 2004, Holger Wache
%   modified: May 26, 2004, Jérôme Euzenat
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%       The following parameters can be defined for a document:
%
%       PARAMETER               DEFAULT VALUE
%
%       title                   ?
%       author                  ?
%       issuer                  The contributors
%       identifier              ?
%       project                 ?
%       synopsis
%       revised                 \today
%       format                  \LaTeX
%       distribution            Restricted
%       version                 ?
%       state                   ?
%
%       The following LaTeX command generates the actual text:
%
%       \coverpages
%       Generates frontpage with title, authors, logo synopsis
%                       and an inner page with company information
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\catcode`\@=11\relax

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                       DEFAULT PAGE STYLE                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Dimension Of Text:

\textheight     22cm    %    Height of text (including footnotes and
                        %    figures, excl. running head and foot).
\textwidth      15cm    %    Width of text line.

% Top of page

\topmargin      0pt     %    Nominal distance from top of page to top
                        %    of box containing running head.
\headheight     12pt    %    Height of box containing running head.
\headsep        25pt    %    Space between running head and text.

% Bottom of page:

%\footheight 12pt        %    Height of box containing running foot.
%\footskip 30pt          %    Distance from baseline of box containing
%                        %    foot to baseline of last line of text.

% For two-column mode:

\oddsidemargin  1cm
\evensidemargin 1cm
\marginparwidth 0pt

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                       COVER PAGES                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\newcommand{\kwebtitle}{?}
\newcommand{\kwebauthor}{?}
\newcommand{\kwebissuer}{Editores, Autores y Contribuciones}
\newcommand{\kwebidentifier}{?}
\newcommand{\kwebproject}{?}
\newcommand{\kwebrevised}{\today}
\newcommand{\kwebsynopsis}{?}
\newcommand{\kwebversion}{?}
\newcommand{\kwebstate}{?}
\newcommand{\kwebformat}{LaTeX}
\newcommand{\kwebdistribution}{Public}
% Empty field at bottom of page if CEC reference is not defined
\newcommand{\kwebcecfield}{}
\newcommand{\coverpages}{\docoverpages{1}}
\newcommand{\coverpage}{\docoverpages{0}}
\newcommand{\kwparticipants}{Universidad de Oviedo (WESO)\\
EXIS TI \\
Gateway Strategic Consultancy Services
}

\renewcommand{\title}[1]{
\def\frontpagetitle{#1}
\def\kwebtitle{#1}}
\renewcommand{\author}[1]{\renewcommand{\kwebauthor}{#1}}
\newcommand{\issuer}[1]{\renewcommand{\kwebissuer}{#1}}
\newcommand{\participants}[1]{\renewcommand{\kwparticipants}{#1}}
\newcommand{\identifier}[1]{\renewcommand{\kwebidentifier}{#1}}
\newcommand{\project}[1]{\renewcommand{\kwebproject}{#1}}
\renewcommand{\kwebcecfield}{EU Reference\\}
\newcommand{\revised}[1]{\renewcommand{\kwebrevised}{#1}}
\newcommand{\synopsis}[1]{\def\synopsisheader{Resumen.}
       \renewcommand{\kwebsynopsis}{#1}}
\newcommand{\format}[1]{\renewcommand{\kwebformat}{#1}}
\newcommand{\distribution}[1]{\renewcommand{\kwebdistribution}{#1}}
\newcommand{\version}[1]{\renewcommand{\kwebversion}{#1}}
\newcommand{\state}[1]{\renewcommand{\kwebstate}{#1}}
\newcommand{\clsize}{\footnotesize}
\newcommand{\smallcons}{\renewcommand{\clsize}{\scriptsize}}

\def\docoverpages#1{{%
\parindent 0pt
%
% lay out parameters:
%
% You may wish to modify the following layout parameters if your
% printer can not handle this size. The layout will be scaled, but
% the fontsize will not!
% Please only modify a parameter if indicated that this is possible
%
% you can redefine unitlength in order to get a smaller frontpage
% e.g., \setlength{\unitlength}{0.008cm}
%
\setlength{\unitlength}{0.01cm}
%
% define offset of page (in picture units) (you can modify this)
%
\def\frontbasex{140}
\def\frontbasey{-285}
%
% define width of right column (you can modify this)
%
\def\maincolwidth{1360}
%
% define height of columns on front page (you can modify this)
%
\def\frontpageheight{2610}
%
% define cadreheight
%
\def\cadreheight{2460}
%
% define height of bottomline
%
\def\bottomline{2560}
%
% define width of left column
%
\def\leftcolwidth{300}
%
% define width of logo
%
\def\logowidth{800}
%
% define middle of page
%
\def\halfpage{830}
%
% define left corner of logo ( halfpage - logowidth /2)
%
\def\leftcornerlogo{1230}
%
% keep some space between logo and cadre
%
\def\leftcorneraddsome{710}
%
% define right corner of logo
%
\def\rightcornerlogo{1230}
%
% define width of frontpage as \maincolwidth + \leftcolwidth
%
\newcounter{frontpagewidth}
\setcounter{frontpagewidth}{\leftcolwidth}
\addtocounter{frontpagewidth}{\maincolwidth}
%
% DEFINE (!!!) frontwidth
%
\def\frontwidth{1660}
%
% define width of document statushead
%
\def\headwidth{660}
%
% define horizontal pos of document statushead
% as frontpagewidth - headwidth
%
\def\headpos{1000}
%
% define space between header and title (you may modify this)
%
\def\titleskip{570}
%
% idem for inner title page (you may modify this)
%
\def\titleinnerskip{100}
%
%
% define space between title and author (you may modify this)
%
\def\authorskip{160}
%
% idem for inner title page (you may modify this)
%
\def\authorinnerskip{160}
%
% define space between author(s)/institute pairs (divided by \with)
% (you may modify this)
%
\def\withauthorskip{130}
%
% next author/instute pair in authorfield \with
\def\with{\\ \vskip \wsk}
% institute in authorfield
\def\at##1{\\ {\Large \em ##1}}
% more than one author
\def\and{\\}
% Redefine footnotemark
   \def\thefootnote{\fnsymbol{footnote}}
%   \def\@makefnmark{\hbox
%       to 0pt{$^{\@thefnmark}$\hss}}
% make a new dimension of ##2 unitlengts
\def\newprop##1##2{\newlength{##1}\setlength{##1}{\unitlength}
\multiply ##1 by ##2}
%
% put title out
%

\def\dotitle{%
\begin{minipage}{\mcw}
\begin{center}
\vskip \tsk
\hrule \strut\\[4pt]
\Huge\bf
\frontpagetitle
\strut\\[4pt] \hrule
\vskip \ask
\large
%\LARGE
\kwebauthor
\end{center}
\footnotesize
\strut\\[6pt]{\bf \synopsisheader}
\kwebsynopsis
 \setcounter{footnote}{0}
\end{minipage}}
%
% put copyrightline out
%
\def\copyrightline{Copyright \copyright\ \number\year\ \kwebissuer}
%
% put document description fields out
%
\def\docstatushead{%
\begin{minipage}{\mcw}
\bf
\begin{flushleft}
Código de Proyecto: XXXXX,\\
BCN-WESO: \\
\end{flushleft}
\end{minipage}}
%
\def\docstatusfields{%
\begin{minipage}{\logofigwidth}
\bf
\begin{flushleft}
ID Documento\\
Proyecto\\
Fecha\\
Distribución
\end{flushleft}
\end{minipage}}
%
% put document description out
%
\def\docstatus{%
\begin{minipage}{\mcw}
\begin{tabular}{|p{3cm}|p{5cm}|} \hline
Identificador de Documento & \kwebidentifier \\ \hline
Proyecto & \kwebproject \\ \hline
Versión & \kwebversion \\ \hline
Fecha & \kwebrevised \\ \hline
Estado & \kwebstate \\ \hline
Distribución & \kwebdistribution \\ \hline
\end{tabular}
\end{minipage}}
%
% put footer out
%
\def\dofoot{
\begin{picture}(0,0)(0,0)
\put(0,36){\makebox(0,0)[bl]{\rule{\fpw}{\ruleth}}}
\put(0,0){\makebox(0,0)[bl]{\copyrightline}}
%\put(45,140){\makebox(0,0)[bl]{\docstatusfields}}
\put(770,140){\makebox(0,0)[bl]{\docstatus}}
%\put(\headpos,140){\makebox(0,0)[bl]{\docstatushead}}
\end{picture}}
%
% compute some dimensions from the unit specifications
% e.g. \logofigwidth is \logowidth * unitlength
%
\newprop{\logofigwidth}{\logowidth}
\newprop{\lcw}{\leftcolwidth}
\newprop{\ruleth}{3}
\newprop{\mcw}{\maincolwidth}
\newprop{\fpw}{\thefrontpagewidth}
\newprop{\tsk}{\titleskip}
\newprop{\ask}{\authorskip}
\newprop{\wsk}{\withauthorskip}

%
% Here we begin drawing the cover page
%


\ifnum #1=1
% no headers or footers for titlepage
\thispagestyle{empty}
\footnotesize
\begin{picture}(0,0)(\frontbasex,\frontbasey)
\put(\leftcornerlogo,-450)%
%    {\epsfig{figure=\logopath,width=\logofigwidth}}
%    {\epsfig{figure=kweblogo.eps,width=\logofigwidth}}
%     {\includegraphics{kweblogo.eps}}
     {\resizebox*{4cm}{!}{\includegraphics{weso-logo}}}


%\put(\leftcolwidth,-120){\makebox(\maincolwidth,120)[tr]
%{\vbox{\rightline{{\normalsize EU-IST Project IST-2004-507482}}
%\rightline{\hrulefill}
%\rightline{ {\footnotesize Knowledge Web: Realizing the Semantic Web} }}}}

\put(0,-160){\makebox(\frontwidth,0)[t]{\dotitle}}
\put(0,-\frontpageheight){\makebox(0,0)[bl]{\dofoot}}
\end{picture}

\vfill
\newpage
\fi

%
% end of pagezero
%


%
% Company information
%
\def\lpartner##1{\begin{minipage}[t]{\lhpwidth}\begin{flushleft}##1
\end{flushleft}\end{minipage}}
\def\rpartner##1{\begin{minipage}[t]{\rhpwidth}\begin{flushleft}##1
\end{flushleft}\end{minipage}}

\def\doconsortium{
\begin{minipage}{\fpw}
\newlength{\lhpwidth}
\newlength{\rhpwidth}
\setlength{\lhpwidth}{\fpw}
\divide\lhpwidth by 2
\setlength{\rhpwidth}{\lhpwidth}
\advance\lhpwidth by -12pt
\advance\rhpwidth by -12pt
{\begin{flushleft}\large\bf Proyecto 10ders Information Services \end{flushleft}}
{\clsize
\vskip 12pt\dockweb
\vskip 22pt{\lpartner{\gateway}\hfill\rpartner{\weso}}
\vskip 22pt{\lpartner{\exis}\hfill}
}
\end{minipage}}

\def\doconsortiumm{
\begin{minipage}{\fpw}
\setlength{\lhpwidth}{\fpw}
\divide\lhpwidth by 2
\setlength{\rhpwidth}{\lhpwidth}
\advance\lhpwidth by -12pt
\advance\rhpwidth by -12pt
{\clsize
}
\end{minipage}}

\def\dolistpartners{
\begin{minipage}{\fpw}
\setlength{\lhpwidth}{\fpw}
\divide\lhpwidth by 2
\setlength{\rhpwidth}{\lhpwidth}
\advance\lhpwidth by -12pt
\advance\rhpwidth by -12pt
\chapter*{Participantes}
{\normalsize \begin{flushleft}
Las siguientes personas e instituciones han participado
activamente en la elaboración de esta documento así como
de su revisión.
\vspace{0.5cm}

\kwparticipants
\end{flushleft}}
\end{minipage}}

\def\doconsortiumfoot{
\begin{picture}(0,0)(0,0)
\put(0,36){\makebox(0,0)[bl]{\rule{\fpw}{\ruleth}}}
%\put(0,120){\makebox(0,0)[bl]{\vbox{
%This document was produced using the \kwebformat\ wordprocessor}}}
\end{picture}}

%
% Here we begin drawing the Company page
%
\ifnum #1=1
\thispagestyle{empty}
\begin{picture}(0,0)(\frontbasex,\frontbasey)
\put(0,-85){\rule{\fpw}{\ruleth}}
\put(0,-160){\makebox(0,0)[tl]{\doconsortium}}
\put(0,-\frontpageheight){\makebox(0,0)[bl]{\doconsortiumfoot}}
%\put(0,-\frontpageheight){\makebox(0,0)[bl]{\copyrightline}}
\end{picture}

%
% end of first Company information page
%

\vfill
\newpage

%
% Here we begin drawing the second Company page
%
\thispagestyle{empty}
\begin{picture}(0,0)(\frontbasex,\frontbasey)
\put(0,-85){\rule{\fpw}{\ruleth}}
\put(0,-160){\makebox(0,0)[tl]{\doconsortiumm}}
\put(0,-\frontpageheight){\makebox(0,0)[bl]{\doconsortiumfoot}}
%\put(0,-\frontpageheight){\makebox(0,0)[bl]{\copyrightline}}
\end{picture}

%
% end of second Company information page
%

\vfill
\newpage
%

%
% Here is the acknowledgement pages
%
\thispagestyle{empty}
\begin{picture}(0,0)(\frontbasex,\frontbasey)
\put(0,-85){\rule{\fpw}{\ruleth}}
\put(0,-160){\makebox(0,0)[tl]{\dolistpartners}}
\put(0,-\frontpageheight){\makebox(0,0)[bl]{\doconsortiumfoot}}
%\put(0,-\frontpageheight){\makebox(0,0)[bl]{\copyrightline}}
\end{picture}

%
% end of second Company information page
%

\vfill
\newpage
\fi
%
}
\def\title##1{\gdef\@title{##1}}
\def\author##1{\gdef\@author{##1}}
\pagenumbering{arabic}
}
%
% end of coverpages
%

% The 'revision' environment can be used to insert revisions:

\newenvironment{revision}{%
        \def\when##1{\tag{Revision date:}{##1}}
        \def\who##1{\tag{Author:}{##1}}
        \def\what##1{\tag{Modifications:}{##1}}}{\vskip 1cm}

\def\ps@kweb{\let\@mkboth\markboth
\def\@oddhead{\underline{\makebox[\textwidth]{\strut\small
\kwebtitle \hfill IST Project IST-2004-507482\strut}}}%
\def\@evenhead{\underline{\makebox[\textwidth]{\strut\small
\strut \hfill \rightmark}}}%
\def\@oddfoot{\small \kwebidentifier \hfill \kwebrevised \hfill
                                           \thepage}%
\def\@evenfoot{\small \thepage \hfill \kwebrevised \hfill
                                     \kwebidentifier}%
\ifnum\c@tocdepth=2
\def\chaptermark##1{\markright{\uppercase{\ifnum \c@secnumdepth>\m@ne
\thechapter. \fi ##1}}}
\def\sectionmark##1{}\def\subsectionmark##1{}
\else
\def\sectionmark##1{\markright{\kwebtitle}}
\def\subsectionmark##1{}
\fi
 }

\pagestyle{kweb}


\def\gateway{%
{\bf Gateway Strategic Consultancy Services - Coordinador}\\
Paseo Zorrilla 89, \\
47007, Valladolid, España\\
Fax: + 34 983 137189, 
Teléfono: +34 983 137188\\
Persona de Contacto: José Luis Marín De La Iglesia\\
E-mail: josmar@gateway-scs.es
}

\def\exis{%
{\bf EXIS TI}\\
C/ Jesús Goldero, 6 \\
28045, Madrid, España\\
Fax: + 34  91 506 41 15, 
Teléfono: +34 91 592 24 80 \\
Persona de Contacto: Ramón Calmeau\\
E-mail: informacion@exis-ti.com 
}


\def\weso{%
{\bf Universidad de Oviedo (WESO)}\\
Departamento de Informática\\
Edificio Facultad de Ciencias\\
C/Calvo Sotelo, S/N, 33003\\
Oviedo, Asturias, España\\
%Fax: +41 21 6935225, 
Teléfono: +34 985 10 33 97\\
Persona de Contacto: José Emilio Labra Gayo\\
E-mail: labra@uniovi.es
}



\newcommand{\dockweb}{%
Este documento es parte del proyecto ``10ders Information Services'' parcialmente financiado 
por el Ministerio de Industria, Turismo y Comercio con código ``TSI-020100-2010-919'' y realizado 
en colaboración entre las empresas ``Gateway S.C.S.'', ``EXIS TI'' y el grupo de investigación 
WESO de la Universidad de Oviedo.
}

% Standard KWEB Acknowledgement (can be used in \thanks command)

\newcommand{\ackkweb}{%
Este documento es parte del proyecto ``10ders Information Services'' parcialmente financiado 
por el Ministerio de Industria, Turismo y Comercio con código ``TSI-020100-2010-919'' y realizado 
en colaboración entre las empresas ``Gateway S.C.S.'', ``EXIS TI'' y el grupo de investigación 
WESO de la Universidad de Oviedo.
}

\catcode`\@=12\relax

% end of kweb.sty
